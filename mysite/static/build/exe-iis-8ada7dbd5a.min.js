"use strict";$(function(){moment.locale("cn"),angular.bootstrap(document,["exe.iis"])});
"use strict";angular.module("exe.iis",["ngSanitize","ngAnimate","restangular","ui.router","ui.bootstrap","EXEAdmin","exe.iis.config","exe.iis.user","exe.iis.home"]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("iis",{"abstract":!0,url:"",data:{title:"IIS"},views:{root:{templateUrl:"modules/layout/layout.tpl.html"}}}),t.otherwise("/home")}]).config(["$provide","$httpProvider",function(e,t){t.interceptors.push("ErrorHttpInterceptor")}]).run(["$rootScope","$location","AppAuth","APP_CONFIG","$state","homeService",function(e,t,o,i,n,r){e.logout=function(){o.logout().then(function(t){200==t.status&&t&&e.gotoLogin()})},e.gotoLogin=function(){window.location.href=i.siteUrl+"?next="+encodeURIComponent(window.location.href)},e.vote=function(e,t){0==t.user_vote?"voteup"==e?(t.user_vote=1,t.likes++):"votedown"==e&&(t.user_vote=-1,t.dislikes++):1==t.user_vote?"voteup"==e?(t.user_vote=0,t.likes--):"votedown"==e&&(t.user_vote=-1,t.dislikes++,t.likes--):t.user_vote==-1&&("voteup"==e?(t.user_vote=1,t.likes++,t.dislikes--):"votedown"==e&&(t.user_vote=0,t.dislikes--)),r.voteImageByID(e,t._id).then(function(e){},function(e){console.log("投票失败，请重新尝试")})},o.getUserInfo().then(function(t){e.userInfo=t.data[0].fields})}]).run(["$rootScope","AppAuth",function(e,t){e.$on("$routeChangeSuccess",function(t,o,i){o&&(o.title&&(e.page_title=o.title,window.document.title=o.title),o.page&&(e.page_name=o.page))})}]).directive("repeatFinish",function(){return{link:function(e,t,o){1==e.$last&&e.$eval(o.repeatFinish)}}}).filter("formatTime",function(){return function(e){if(!e)return"";var t=new Date(1e3*e);return t.getFullYear()+"."+t.getMonth()+"."+t.getDate()}}).filter("formatBytes",function(){return function(e){if(0==e||!e)return"0 Byte";var t=1,o=1e3,i=t+1||3,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(e)/Math.log(o));return parseFloat((e/Math.pow(o,r)).toFixed(i))+" "+n[r]}});
"use strict";angular.module("exe.iis.home",["ui.router"]).config(["$stateProvider",function(e){e.state("iis.home",{url:"/home",data:{title:"EXE智能图片系统"},views:{"content@iis":{templateUrl:"modules/home/views/home.tpl.html",controller:"HomeCtrl"}}})}]);
"user strict";angular.module("exe.iis.user",["ui.router"]);
"use strict";angular.module("exe.iis.config",[]).constant("APP_CONFIG",{siteUrl:"http://img.jingfree.top",apiUrl:"http://img.jingfree.top/api"});
!function(){"use strict";angular.module("exe.iis.home").controller("HomeCtrl",["$scope","homeService","$location","ngDialog","AppAuth","$cookies","$rootScope","$state",function(e,a,t,i,r,o,s,n){function l(){document.onkeydown=function(a){var t=a||window.event||arguments.callee.caller.arguments[0];t&&13==t.keyCode&&e.searchContent()},c(),e.pagination={total:20,perPage:u,currentPage:1},e.searchParams={filter:t.search().filter?t.search().filter.split(","):new Array,sort:t.search().sort?t.search().sort:""},t.search().search===!0&&t.search("search",null),e.searchParams.search=t.search().search||"",e.setting={openFilter:!1,showResultMessage:!0,showNoResultMessage:!1},e.hotFilterList=[{id:"10001__1__1",name:"人物",index:0},{id:"10001__2__1",name:"眼镜",index:0},{id:"10001__3__1",name:"场景",index:0},{id:"10001__2__2",name:"太阳镜",index:0},{id:"10001__3__3",name:"旅行",index:0},{id:"10001__1__5",name:"青年",index:0},{id:"10001__3__2",name:"约会",index:0},{id:"10001__1__4",name:"少年",index:0}],d(),h(),o.get("exe_iis_session_id")&&(e.setting.isLogin=!0)}function c(){$("body,html").on("click",function(a){e.setting.openFilter=!1}),$(".filter-container").click(function(e){e.stopPropagation()}),$(".btn-open-filter").click(function(e){e.stopPropagation(),g()})}function g(){e.setting.openFilter=!e.setting.openFilter}function m(e){if(!($(window).width()>991)){if(0==$(".iis-message-box").length){var a="<div class='iis-message-box'><span class='message-content'></span></div>";$("body").append(a)}$(".message-content").html(e),$(".iis-message-box").fadeIn("fast"),setTimeout(function(){$(".iis-message-box").fadeOut("normal")},1e3)}}function d(){var i={};for(var r in t.search())t.search()[r]&&"img_id"!=r&&(i[r]=t.search()[r]);i.limit=t.search().limit||u,i.page=t.search().page||1,a.getGalleryList(i,{passError:!0}).then(function(a){if(e.galleryList=a.data.images_list,e.pagination.total=a.data.total,e.pagination.currentPage=t.search().page,e.searchParams.sort=t.search().sort,e.galleryList.length<1?e.setting.showNoResultMessage=!0:e.setting.showNoResultMessage=!1,$("body,html").animate({scrollTop:"0px"},500),e.setting.showResultMessage&&m("#搜索到"+e.pagination.total+"张图"),e.setting.showResultMessage=!0,t.search()&&t.search().img_id){if(v)return;e.openImgDetailCover(t.search().img_id)}},function(a){p=!0,e.setting.showNoResultMessage=!0,console.log("获取图片失败，请联系管理员")})}function h(){a.getGalleryFilters({passError:!0}).then(function(a){e.galleryFilterList=a.data.tags},function(e){console.log("获取检索条件失败，请联系管理员")})}e.$watch(function(){return t.search()},function(e){!e.img_id&&v&&(i.close(),v=null,$(".iis-img-detail-cover").length>0&&($(".iis-img-detail-cover, .iis-img-detail-bg-cover").remove(),$(".ngdialog,body").off("touchstart"))),d()});var u=t.search().limit||20,p=!0,f=$(window).width(),v=null;e.paginate=function(a){t.search("page",a||1),e.setting.showResultMessage=!1,d()},e.sort=function(a){a!=t.search().sort&&(t.search("sort",a),t.search("page",1),e.pagination.currentPage=1,e.setting.showResultMessage=!1,d())},e.openImgDetailCover=function(a){var r=$(window).scrollTop();t.search("img_id",a),$(window).scrollTop(0),v=i.open({className:"ngdialog-theme-default image-detail-dialog",templateUrl:"modules/home/views/imageDetail.tpl.html",controller:"imgDetailCtrl",data:{imgId:a},closeByNavigation:!0}).closePromise.then(function(){setTimeout(function(){$(window).scrollTop(r)},100),t.search("img_id",null),$("body,html").removeClass("fixed"),$("#shareIcon").length>0&&$("#shareIcon").remove();for(var i=0,o=e.galleryList.length;i<o;i++)a==e.galleryList[i]._id&&(e.galleryList[i].likes=angular.copy(s.imageItem.likes),e.galleryList[i].dislikes=angular.copy(s.imageItem.dislikes),e.galleryList[i].user_vote=angular.copy(s.imageItem.user_vote),e.galleryList[i].enlarge_times=angular.copy(s.imageItem.enlarge_times));v=null})},e.renderFinish=function(){$(window).resize(function(){f=$(window).width(),$(".img-item-wrap").height($(".img-item-wrap").width()),$(".img-item-wrap .item-cover.show").removeClass("show")}),$(".img-item-wrap").hover(function(){f>991&&($(".img-item-wrap .item-cover.show").removeClass("show"),$(this).find(".item-cover").addClass("show"))}),$(window).resize(),setTimeout(function(){$("img.lazy").lazyload({threshold:1e3}),$("img.lazy").each(function(){$(this).on("load",function(){$(this).parent(".img-item").css("background-image","url("+$(this).attr("src")+")").css("opacity","1")})})},500)},e.openFilter=function(){f>991||i.open({className:"ngdialog-theme-default search-filter-dialog",templateUrl:"modules/home/views/searchFilter.tpl.html",controller:"searchFilterCtrl",overlay:!1,showClose:!1,data:{filterList:angular.copy(e.galleryFilterList),searchParams:angular.copy(t.search())}}).closePromise.then(function(a){$("body,html").removeClass("fixed").css("top","auto"),$(window).scrollTop(a.value.win_scolltop),$("#searchContent").blur(),a.value.filterobj&&(0!=a.value.filterobj.filter.length&&""!=a.value.filterobj.filter||""!=a.value.filterobj.text?t.search().filter==a.value.filterobj.filter.join()&&t.search().text==a.value.filterobj.text||(t.search("filter",a.value.filterobj.filter.join()),t.search("search",a.value.filterobj.text||null),t.search("page",1),e.pagination.currentPage=1,e.searchParams.search=a.value.filterobj.text,d()):(t.search("filter",null),t.search("search",null),t.search("page",1),e.pagination.currentPage=1,e.searchParams.search=a.value.filterobj.text,d()))})},e.selectFilter=function(a,i){e.searchParams.filter[i]=a;var r=t.search().filter||"";r.indexOf(a)==-1&&(t.search("filter",angular.copy(e.searchParams.filter.join())),t.search("page",1),e.pagination.currentPage=1,d())},e.clearSelectItem=function(){e.searchParams.filter=[],t.search("filter",null),t.search("search",null),t.search("page",1),e.pagination.currentPage=1,d()},e.searchContent=function(){t.search("page",1),t.search("search",e.searchParams.search||null),e.pagination.currentPage=1,d()},e.deletSearchText=function(){e.searchParams.search="",t.search("search",null)},l()}]).controller("imgDetailCtrl",["$scope","homeService","ngDialog","$rootScope",function(e,a,t,i){function r(){function a(){o.remove(),s.remove(),$(".ngdialog,body").off("touchstart")}var t=$(window).width();if(!(t>415)){var i="/imgs/"+e.imageItem.image_local_path;if($(".iis-img-detail-cover").length<1){var r="<div class='iis-img-detail-cover'>";r+="<div id='imgZoomer' class='img-wrap'><img id='rect' src='"+i+"' ondragstart='return false' /></div></div>",r+="<div class='iis-img-detail-bg-cover'></div>",$("body").append(r)}else $(".iis-img-detail-cover").find(".img-wrap img").attr("src",i);var o=$(".iis-img-detail-cover"),s=$(".iis-img-detail-bg-cover");o.removeClass("scale-hide").addClass("scale-show"),$(".ngdialog,body").on("touchstart",function(e){e.preventDefault()});var n=document.getElementById("rect"),l=document.getElementById("imgZoomer"),c=new Hammer.Manager(l,{recognizers:[[Hammer.Pinch],[Hammer.Pan]]});c.add(new Hammer.Tap({event:"doubletap",taps:2})),c.add(new Hammer.Tap({event:"singletap"})),c.get("doubletap").recognizeWith("singletap"),c.get("singletap").requireFailure("doubletap");var g=0,m=0,d=1,h=1,u=0,p=0;c.on("pinch pinchstart pan panend doubletap singletap",function(e){switch($("#rect").removeClass("zoom"),e.type){case"panend":u=g,p=m;break;case"pan":g=u+e.deltaX,m=p+e.deltaY;break;case"pinchstart":h=d;break;case"pinch":d=Math.max(1,Math.min(h*e.scale,10));break;case"doubletap":d>1?d=1:1==d&&(d=2),$("#rect").addClass("zoom");break;case"singletap":a()}var t="";d>1?t="translate3d("+g+"px,"+m+"px, 0) scale3d("+d+","+d+", 1) ":(t="translate3d(0, 0, 0) scale3d(1, 1, 1) ",g=0,m=0,u=0,p=0),n.style.transform=t,n.style.oTransform=t,n.style.msTransform=t,n.style.mozTransform=t,n.style.webkitTransform=t}),$(".iis-img-detail-cover").on("touchstart click",function(e){a()}),$(".iis-img-detail-cover .img-wrap, .iis-img-detail-cover").on("touchstart click",function(e){e.stopPropagation()})}}function o(){var t=$(window).scrollTop();i.imageItem=null,e.imageItem=null;var r=e.ngDialogData?angular.copy(e.ngDialogData):{};a.getGalleryByID(r.imgId,{passError:!0}).then(function(a){e.imageItem=a.data,i.imageItem=a.data,e.setting={bindDialogHammer:!0},setTimeout(function(){$(window).scrollTop(t),$(window).width()<=991&&$("body,html").addClass("fixed"),e.bindDialogHammer()},500),$("<div style='margin:0 auto;width:0px;height:0px;overflow:hidden;'><img  src='/imgs/"+e.imageItem.image_local_path+"'/></div>").prependTo("body")},function(e){console.log("获取图片信息失败")})}e.bindDialogHammer=function(){var a=document.getElementById("btnOpenZoomer"),t=new Hammer.Manager(a);return!(a.length<1||!e.setting.bindDialogHammer)&&(t.add(new Hammer.Tap({event:"doubletap",taps:2})),t.add(new Hammer.Tap({event:"singletap"})),t.get("doubletap").recognizeWith("singletap"),t.get("singletap").requireFailure("doubletap"),t.on("doubletap singletap",function(e){switch(e.type){case"doubletap":r();break;case"singletap":r()}}),void(e.setting.bindDialogHammer=!1))},o()}]).controller("searchFilterCtrl",["$scope","homeService","ngDialog",function(e,a,t){function i(){t.closeAll({filterobj:{filter:e.searchField.filter,text:e.searchField.text},win_scolltop:o})}function r(){$("body,html").addClass("fixed").css("top","-"+o+"px"),$(".ngdialog").bind("touchstart",function(e){e.stopPropagation()}),$("#searchContent").blur(),document.onkeydown=function(e){var a=e||window.event||arguments.callee.caller.arguments[0];a&&13==a.keyCode&&i()},e.filterList=e.ngDialogData.filterList?angular.copy(e.ngDialogData.filterList):{},e.searchField={filter:e.ngDialogData.searchParams.filter?e.ngDialogData.searchParams.filter.split(","):new Array,text:e.ngDialogData.searchParams.search?e.ngDialogData.searchParams.search:""}}var o=$(window).scrollTop();e.closeDialog=function(){t.closeAll({win_scolltop:o})},e.clearSelectItem=function(){e.searchField.filter=[],e.searchField.text="",setTimeout(function(){i()},200)},e.selectFilter=function(a,t){e.searchField.filter[t]=a,setTimeout(function(){i()},200)},r()}])}();
"use strict";angular.module("exe.iis.home").service("homeService",["$http","$q","$location","APP_CONFIG","Url",function(r,e,t,a,i){this.getGalleryList=function(e){var t=i.setParameter(a.apiUrl+"/gallery/",e);return r.get(t,{passError:!0})},this.voteImageByID=function(e,t){var i=a.apiUrl+"/gallery/imgs/"+t+"/"+e+"/";return r.get(i,{passError:!0})},this.getGalleryFilters=function(){var e=a.apiUrl+"/gallery/filtering/tags/";return r.get(e,{passError:!0})},this.getGalleryByID=function(e){var t=a.apiUrl+"/gallery/imgs/"+e+"/detail/";return r.get(t,{passError:!0})}}]);
"use strict";angular.module("exe.iis.user").service("AppAuth",["$http","$q","$location","APP_CONFIG",function(t,e,o,r){this.logout=function(){var e=r.apiUrl+"/accounts/logout/";return t.get(e)},this.getUserInfo=function(){var e=r.apiUrl+"/accounts/profile/";return t.get(e)}}]);
angular.module("exe.iis").run(["$templateCache",function(t){t.put("modules/layout/layout.tpl.html",'<!-- LAYOUT -->\n<div>\n  <div data-smart-router-animation-wrap="content content@app" data-wrap-for="#content">\n    <div data-ui-view="content"></div>\n  </div>\n</div>\n<!-- HEADER -->\n\n<!-- END HEADER -->\n\n\n\n'),t.put("modules/home/views/home.tpl.html",'<header id="header" class="iis-header">\n  <div class="container clearfix">\n    <div class="exe-logo col-xs-3 col-sm-3">\n      <a class="logo-wrap btn-link-to-home" href="/" ><img class="img-logo" src="assets/img/logo.png"></a>\n      <i class="cutline"></i>\n    </div>\n    <div class="search-wrap col-xs-7 col-sm-7">\n      <div class="input-wrap">\n        <i class="icon-search icon" ng-click="searchContent();"></i>\n        <input type="text" name="searchContent" id="searchContent" ng-model="searchParams.search" ng-click="openFilter();" class="search-content" placeholder="请搜索英文关键字">\n        <i class="icon-delete icon" ng-click="deletSearchText();"></i>\n      </div>\n      <div class="filter-wrap">\n      \t<i class="icon-hot"></i>\n        <a href="javascript:void(0)" ng-class="{\'active\': searchParams.filter[0] == hotFilter.id}" ng-repeat="hotFilter in hotFilterList" ng-click="selectFilter(hotFilter.id, hotFilter.index)" class="filter-sub-item">{{hotFilter.name}}</a>\n        <div class="more-filter-wrap">\n        \t<a href="javascript:void(0)" class="btn-open-filter">更多></a>\n        \t<div class="filter-container" ng-class="{\'active\' : setting.openFilter}">\n\t\t\t\t\t\t<div class="filter-item clearfix" ng-repeat="filter in galleryFilterList">\n\t\t\t\t\t\t\t<span class="filter-name">{{filter.name}}</span>\n\t\t\t\t\t\t\t<div class="item-container clearfix" ng-if="filter.sub_tag_groups" ng-repeat="subFilter in filter.sub_tag_groups">\n\t\t\t\t\t\t\t\t<a class="item" ng-repeat="filterItem in subFilter.options" ng-class="{\'active\': searchParams.filter[$parent.$parent.$parent.$index] == filterItem.id}" ng-click="selectFilter(filterItem.id, $parent.$parent.$parent.$index)">{{filterItem.label}}</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="item-container clearfix" ng-if="!filter.sub_tag_groups">\n\t\t\t\t\t\t\t\t<a class="item" ng-repeat="filterItem in filter.options" ng-class="{\'active\': searchParams.filter[$parent.$parent.$index] == filterItem.id || (!searchParams.filter[$parent.$parent.$index] && $index == 0)}" ng-click="selectFilter(filterItem.id, $parent.$parent.$index)">{{filterItem.label}}</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="btn-cancel-filter" ng-click="clearSelectItem();">清空</div>\n\t\t\t\t\t\t<i class="left-arrow"></i>\n\t\t\t\t\t</div>\n        </div>\n      </div>\n    </div>\n    <div class="search-sort-wrap">\n      排序:\n      <a href="javascript:void(0)" class="sort-item" ng-class="{\'active\': searchParams.sort == \'-user_posted_time\' || !searchParams.sort}" ng-click="sort(\'-user_posted_time\');">最新</a>\n      <a href="javascript:void(0)" class="sort-item" ng-class="{\'active\': searchParams.sort == \'-instagram_likes\'}" ng-click="sort(\'-instagram_likes\');">最热</a>\n      <a href="javascript:void(0)" class="sort-item" ng-class="{\'active\': searchParams.sort == \'-enlarge_times\'}" ng-click="sort(\'-enlarge_times\');">浏览数</a>\n    </div>\n    <div class="account-wrap clearfix">\n    \t<div class="login-wrap" ng-if="userInfo"> \n    \t\t<span class="username">您好: {{userInfo.username}}</span>\n    \t\t<!-- <a href="javascript:void(0)" class="btn-login" >您好：{{userInfo.username}}</a> -->\n    \t</div>\n    \t<div class="logout-wrap" ng-if="setting.isLogin">\n    \t\t<a href="javascript:void(0)" class="btn-logout" ng-click="logout();">登出</a>\n    \t</div>\n    </div>\n  </div>\n</header>\n<div id="content">\n\t<div class="img-container clearfix">\n\t\t<div class="message-wrap search-resutlt-wrap" ng-if="galleryList && galleryList.length > 0">\n\t\t\t<span class="message-content">#搜索到 {{pagination.total}}张图</span>\n\t\t</div>\n\t\t<div class="message-wrap" ng-if="setting.showNoResultMessage">\n\t\t\t没有查询到符合条件的图片\n\t\t</div>\n\t\t<div class="img-item-wrap" ng-click="openImgDetailCover(imgItem._id);" ng-repeat="imgItem in galleryList" repeat-finish="renderFinish();">\n\t\t\t<div class="img-item">\n\t\t\t\t<img class="item-placeholder lazy" data-original="/imgs/{{imgItem.image_local_path}}">\n\t\t\t\t<div class="item-cover">\n\t\t\t\t\t<div class="cover-content">\n\t\t\t\t\t\t<div class="views-num-wrap">VIEW: {{imgItem.enlarge_times}}</div>\n\t\t\t\t\t\t<div class="interaction-wrap">\n\t\t\t\t\t\t\t<div class="like-wrap" ng-click="$event.stopPropagation();vote(\'voteup\', imgItem);">\n\t\t\t\t\t\t\t\t<img ng-if="imgItem.user_vote == 1" src="assets/img/like_active.png">\n\t\t\t\t\t\t\t\t<img ng-if="imgItem.user_vote != 1" src="assets/img/like_unactive.png">\n\t\t\t\t\t\t\t\t{{imgItem.likes}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="unlike-wrap" ng-click="$event.stopPropagation();vote(\'votedown\', imgItem);">\n\t\t\t\t\t\t\t\t<img ng-if="imgItem.user_vote == -1" src="assets/img/unlike_active.png">\n\t\t\t\t\t\t\t\t<img ng-if="imgItem.user_vote != -1" src="assets/img/unlike_unactive.png">\n\t\t\t\t\t\t\t\t{{imgItem.dislikes}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\t\t\t\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="iis-pagination">\n\t\t<ul uib-pagination total-items="pagination.total" ng-model="pagination.currentPage" ng-change="paginate(pagination.currentPage)" items-per-page="pagination.perPage" previous-text="<" next-text=">" max-size="5"  rotate="false"></ul>\n\t</div>\n</div>'),t.put("modules/home/views/imageDetail.tpl.html",'<div class="content">\n\t<div class="img-wrap" ng-click="bindDialogHammer();" id="btnOpenZoomer">\n\t\t<img class="img-to-save" src="/imgs/{{imageItem.image_local_path}}">\n\t</div>\n\t<div class="img-info-wrap">\n\t\t<div class="interaction-wrap clearfix">\t\n\t\t\t<div class="unlike-wrap" ng-click="vote(\'votedown\', imageItem);">\n\t\t\t\t<div class="icon-wrap">\n\t\t\t\t\t<img ng-if="imageItem.user_vote == -1" src="assets/img/dialog_unlike_active.png">\n\t\t\t\t\t<img ng-if="imageItem.user_vote != -1" src="assets/img/dialog_unlike_unactive.png">\n\t\t\t\t</div>\n\t\t\t\t<span class="nums">{{imageItem.dislikes}}</span>\n\t\t\t</div>\n\t\t\t<div class="like-wrap" ng-click="vote(\'voteup\', imageItem);">\n\t\t\t\t<div class="icon-wrap">\n\t\t\t\t\t<img ng-if="imageItem.user_vote == 1" src="assets/img/dialog_like_active.png">\n\t\t\t\t\t<img ng-if="imageItem.user_vote != 1" src="assets/img/dialog_like_unactive.png">\n\t\t\t\t</div>\n\t\t\t\t<span class="nums">{{imageItem.likes}}</span>\n\t\t\t</div>\n\t\t</div>\n\t\t<!-- <div class="name">{{imageItem}}</div> -->\n\t\t<div class="details-wrap clearfix">\n\t\t\t<div class="detail-item">\n\t\t\t\t<div class="item">上传时间: {{imageItem.user_posted_time | formatTime}}</div>\n\t\t\t\t<div class="item">尺寸: {{imageItem.size_result_tuple[0] || "0"}} x {{imageItem.size_result_tuple[1] || "0"}} px</div>\n\t\t\t\t<div class="item">大小: {{imageItem.bytesize_result | formatBytes}}</div>\n\t\t\t\t<div class="item">格式: {{imageItem.format  || ""}}</div>\n\t\t\t</div>\n\t\t\t<div class="detail-item">\n\t\t\t\t<div class="item">浏览数: {{imageItem.enlarge_times || ""}}</div>\n\t\t\t\t<div class="item tag">标签: {{imageItem.tags.join("," || "")}}</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'),t.put("modules/home/views/searchFilter.tpl.html",'<div class="content clearfix">\n\t<div class="search-header clearfix">\n\t\t<div class="input-wrap">\n      <form action="" onsubmit="return false;">\n      \t<i class="icon-search icon"></i>\n      \t<input type="search" class="search-content" ng-model="searchField.text" placeholder="请搜索英文关键字">\n      \t<i class="icon-delete icon" ng-click="searchField.text = \'\'"></i>\n      </form>\n    </div>\n\t\t<a href="javascript:void(0)" ng-click="closeDialog();" class="btn-cancel">取消</a>\n\t</div>\n\t<div class="filter-container">\n\t\t<div class="filter-item" ng-repeat="filter in filterList">\n\t\t\t<span class="filter-name">{{filter.name}}</span>\n\t\t\t<div class="item-container clearfix" ng-if="filter.sub_tag_groups" ng-repeat="subFilter in filter.sub_tag_groups">\n\t\t\t\t<a class="item" ng-repeat="filterItem in subFilter.options" ng-class="{\'active\': searchField.filter[$parent.$parent.$parent.$index] == filterItem.id}" ng-click="selectFilter(filterItem.id, $parent.$parent.$parent.$index)">{{filterItem.label}}</a>\n\t\t\t</div>\n\t\t\t<div class="item-container clearfix" ng-if="!filter.sub_tag_groups">\n\t\t\t\t<a class="item" ng-repeat="filterItem in filter.options" ng-class="{\'active\': searchField.filter[$parent.$parent.$index] == filterItem.id || (!searchField.filter[$parent.$parent.$index] && $index == 0)}" ng-click="selectFilter(filterItem.id, $parent.$parent.$index)">{{filterItem.label}}</a>\n\t\t\t</div>\n\n\t\t</div>\n\t</div>\n\t<div class="btn-cancel-filter" ng-click="clearSelectItem();">清空</div>\n</div>'),t.put("modules/layout/partials/footer.tpl.html",'<footer class="iis-footer">\n\t<div class="logo-wrap clearfix">\n\t\t<i class="left-line"></i>\n\t\t<div class="img-wrap">\n\t\t\t<img class="img-logo" src="assets/img/logo.png">\n\t\t</div>\n\t\t<i class="right-line"></i>\n\t</div>\n\t<div class="tips">如有任何建议反馈 可AM联系IT产品经理王铎</div>\n</footer>\n')}]);